<div class="container-xxl py-5">
  <div class="container">
    <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
      <h1 class="pt-5">Customer List</h1>
    </div>
    <div class="row mb-4" style="text-align: center">
      <div class="col-5 mt-3">
      <a routerLink="/create">Create</a>
      </div>
        <label class="col-3">
          <select class="form-select w-100 py-3 ps-4" [(ngModel)]="nameSearch2">
            <option value="" disabled>-- Select Customer Type --</option>
            <option *ngFor="let item of customerTypes" [ngValue]="item.name">{{item.name}}</option>
          </select>
        </label>
      <div class="col-3 position-relative mx-auto me-4" style="max-width: 400px;">
        <input class="form-control bg-transparent w-100 py-3 ps-4 pe-5" type="search" placeholder="Search" [(ngModel)]="nameSearch1">
        <button style="border: none; background: none" class="py-2 position-absolute top-0 end-0 mt-2 me-4" (click)="search()">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search text-success" viewBox="0 0 16 16">
            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
          </svg>
        </button>
      </div>
    </div>

    <div>
      <table class="table table-striped table-hover mt-5">
        <tr>
          <th>STT</th>
          <th>Name</th>
          <th>Date Of Birth</th>
          <th>Gender</th>
          <th>Id Card</th>
          <th>Phone</th>
          <th>Email</th>
          <th>Address</th>
          <th>Customer Type</th>
          <th></th>
          <th></th>
        </tr>
        <tr *ngFor="let customer of customers | paginate: {itemsPerPage: 5, currentPage: page}; index as i">
          <td>{{i + 1}}</td>
          <td>{{customer.name}}</td>
          <td>{{customer.dateOfBirth | date: 'dd/MM/yyyy'}}</td>
          <td>{{customer.gender}}</td>
          <td>{{customer.idCard}}</td>
          <td>{{customer.phone}}</td>
          <td>{{customer.email}}</td>
          <td>{{customer.address}}</td>
          <td>{{customer.customerType.name}}</td>
          <td>
            <a [routerLink]="['/edit', customer.id]">Edit</a>
          </td>
          <td>
            <button style="border: none; background: none; color: red" data-bs-toggle="modal" data-bs-target="#staticBackdrop" (click)="openDelete(customer.id,customer.name)">Delete</button>
          </td>
        </tr>
      </table>
      <pagination-controls (pageChange)="page=$event"></pagination-controls>
    </div>
  </div>

  <!-- Modal Delete -->
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="staticBackdropLabel">Are You Sure ?</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Delete: &nbsp;<span style="color: red"> {{name}} </span>
        </div>
        <div class="modal-footer">
          <button type="button" style="background: none; border: none" data-bs-dismiss="modal">Cancel</button>
          <button type="button" style="border: none; background: none; color: red" data-bs-dismiss="modal" (click)="deleteCustomer(id)">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>
